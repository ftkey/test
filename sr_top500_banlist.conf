# Best Shadowrocket Rules (https://github.com/Johnshall/Shadowrocket-ADBlock-Rules-Forever)
# by Moshel and Johnshall
# build time: UTC 2024-10-10 23:02:16

[General]
# 默认关闭 ipv6 支持，如果需要请手动开启
ipv6 = false
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, fe80::/10, fc00::/7, localhost, *.local, *.lan, *.internal, e.crashlytics.com, captive.apple.com, sequoia.apple.com, seed-sequoia.siri.apple.com, *.ls.apple.com
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,233.252.0.0/24,224.0.0.0/4,255.255.255.255/32,::1/128,::ffff:0:0/96,::ffff:0:0:0/96,64:ff9b::/96,64:ff9b:1::/48,100::/64,2001::/32,2001:20::/28,2001:db8::/32,2002::/16,3fff::/20,5f00::/16,fc00::/7,fe80::/10,ff00::/8
dns-server = https://dns.alidns.com/dns-query, https://doh.pub/dns-query
[Rule]
#
# 黑名单中包含了 GFWList 中定义的无法访问的网站，剩下的网站直连。
# 未包含广告过滤
#


# 手工定义的 Proxy 列表
# TED
DOMAIN-SUFFIX,tedcdn.com,Proxy
# Telegram
DOMAIN-SUFFIX,t.me,Proxy
DOMAIN-SUFFIX,tdesktop.com,Proxy
DOMAIN-SUFFIX,telegra.ph,Proxy
DOMAIN-SUFFIX,telegram.me,Proxy
DOMAIN-SUFFIX,telegram.org,Proxy
DOMAIN-SUFFIX,telesco.pe,Proxy
IP-CIDR,91.108.56.0/22,Proxy
IP-CIDR,91.108.4.0/22,Proxy
IP-CIDR,91.108.8.0/22,Proxy
IP-CIDR,91.108.16.0/22,Proxy
IP-CIDR,91.108.12.0/22,Proxy
IP-CIDR,149.154.160.0/20,Proxy
IP-CIDR,91.105.192.0/23,Proxy
IP-CIDR,91.108.20.0/22,Proxy
IP-CIDR,185.76.151.0/24,Proxy
IP-CIDR,2001:b28:f23d::/48,Proxy
IP-CIDR,2001:b28:f23f::/48,Proxy
IP-CIDR,2001:67c:4e8::/48,Proxy
IP-CIDR,2001:b28:f23c::/48,Proxy
IP-CIDR,2a0a:f280::/32,Proxy
# disqus
DOMAIN-SUFFIX,disquscdn.com,Proxy
# 50 whatsapp
IP-CIDR,18.194.0.0/15,Proxy
IP-CIDR,34.224.0.0/12,Proxy
# 54 台湾香港澳门 常用网站
DOMAIN-SUFFIX,appledaily.tw,Proxy
# 72 #112 Google Voice
IP-CIDR,74.125.0.0/16,Proxy
# 85（可能冗余）
DOMAIN-SUFFIX,www-google-analytics.l.google.com,Proxy
DOMAIN-SUFFIX,ssl-google-analytics.l.google.com,Proxy
DOMAIN-SUFFIX,partnerad.l.google.com,Proxy
DOMAIN-SUFFIX,pagead.l.google.com,Proxy
DOMAIN-SUFFIX,pagead.google.com,Proxy
DOMAIN-SUFFIX,pagead-tpc.l.google.com,Proxy
DOMAIN-SUFFIX,mobileads.google.com,Proxy
DOMAIN-SUFFIX,ads.google.com,Proxy
DOMAIN-SUFFIX,afd.l.google.com,Proxy
# 175 华尔街邮报
DOMAIN-SUFFIX,dowjones.com,Proxy
# 180 OneDrive（可能冗余）
DOMAIN-SUFFIX,bcbits.com,Proxy
DOMAIN-SUFFIX,ogma.iad.appboy.com,Proxy
DOMAIN-SUFFIX,odc.officeapps.live.com,Proxy
DOMAIN-SUFFIX,skyapi.live.net,Proxy
DOMAIN-SUFFIX,centralus1.mediap.svc.ms,Proxy
DOMAIN-SUFFIX,dm.files.1drv.com,Proxy
DOMAIN-SUFFIX,mobile.pipe.aria.microsoft.com,Proxy
DOMAIN-SUFFIX,gate.hockeyapp.net,Proxy
DOMAIN-SUFFIX,api.onedrive.com,Proxy
DOMAIN-SUFFIX,vortex.data.microsoft.com,Proxy
# 183
DOMAIN-SUFFIX,mendeley.com,Proxy
# 205 APPLE NEWS
DOMAIN-SUFFIX,news-events.apple.com,Proxy
DOMAIN-SUFFIX,news-edge.apple.com,Proxy
DOMAIN-SUFFIX,apple.comscoreresearch.com,Proxy
DOMAIN-SUFFIX,play.itunes.apple.com,Proxy
DOMAIN-SUFFIX,play-cdn.itunes-apple.com.akadns.net,Proxy
DOMAIN-SUFFIX,cvws.apple-dns.net,Proxy
DOMAIN-SUFFIX,news.apple-dns.net,Proxy
DOMAIN-SUFFIX,gateway.fe.apple-dns.net,Proxy
DOMAIN-SUFFIX,akamaiedge.net,Proxy
DOMAIN-SUFFIX,gs-loc.apple.com,Proxy



# GFWList 不能无损转换为 SR 规则，所以这里是对 GFWList 的补充
DOMAIN-SUFFIX,i-scmp.com,Proxy
DOMAIN-SUFFIX,search.xxx,Proxy
IP-CIDR,50.7.31.230/32,Proxy
DOMAIN-KEYWORD,blogspot,Proxy
DOMAIN-KEYWORD,google,Proxy
DOMAIN-SUFFIX,akamaihd.net,Proxy
DOMAIN-SUFFIX,azurewebsites.net,Proxy
# /twimg\.edgesuite\.net\/\/?appledaily
DOMAIN-SUFFIX,4sqi.net,Proxy
# hkheadline.com*blog
DOMAIN-SUFFIX,news.now.com,Proxy
DOMAIN-SUFFIX,picturedip.com,Proxy
# bbs.sina.com%2F
# dailynews.sina.com%2F
DOMAIN-SUFFIX,uchicago.edu,Proxy
DOMAIN-SUFFIX,xda-developers.com,Proxy
# google.*/falun
DOMAIN-KEYWORD,phobos,Proxy
# q=freedom
# q%3Dfreedom
# search*safeweb
# q=triangle
# q%3DTriangle
# 修复 Telegram #105
IP-CIDR,67.198.55.0/24,Proxy
IP-CIDR,91.108.4.0/22,Proxy
IP-CIDR,91.108.8.0/22,Proxy
IP-CIDR,91.108.12.0/22,Proxy
IP-CIDR,91.108.16.0/22,Proxy
IP-CIDR,91.108.56.0/22,Proxy
IP-CIDR,109.239.140.0/24,Proxy
IP-CIDR,149.154.160.0/20,Proxy
IP-CIDR,149.154.164.0/22,Proxy
IP-CIDR,149.154.168.0/22,Proxy
IP-CIDR,149.154.172.0/22,Proxy
# 修复 google voice #112
IP-CIDR,74.125.23.127/32,Proxy
# hacker news web site
DOMAIN-SUFFIX,news.ycombinator.com,Proxy
#TrustWallet
DOMAIN-SUFFIX,trustwallet.com,Proxy
DOMAIN-SUFFIX,walletconnect.org,Proxy


RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/AppleNews/AppleNews.list,PROXY

FINAL,direct

[URL Rewrite]
^https?://(www.)?(g|google)\.cn https://www.google.com 302


[MITM]
hostname = *.google.cn,*.googlevideo.com

# Made with Love from https://github.com/Johnshall/Shadowrocket-ADBlock-Rules-Forever
